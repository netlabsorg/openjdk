#!/bin/sh

JAVA=@JAVA@
LAUNCHER_BOOTCLASSPATH=@LAUNCHER_BOOTCLASSPATH@
LAUNCHER_FLAGS=-Xms8m
CLASSNAME=net.sourceforge.jnlp.runtime.Boot
BINARY_LOCATION=@JAVAWS_BIN_LOCATION@
PROGRAM_NAME=javaws
CP=@JRE@/lib/rt.jar

JAVA_ARGS=
ARGS=

while [ "$#" -gt "0" ]; do
  case "$1" in
    -J*)
      JAVA_ARGS="${JAVA_ARGS} ${1##-J}"
      ;;
    *)
      ARGS="${ARGS} $1"
      ;;
  esac
  shift
done

${JAVA} ${LAUNCHER_BOOTCLASSPATH} ${LAUNCHER_FLAGS} \
  ${JAVA_ARGS} \
  -classpath ${CP} \
  -Dicedtea-web.bin.name=${PROGRAM_NAME} \
  -Dicedtea-web.bin.location=${BINARY_LOCATION} \
  ${CLASSNAME} \
  ${ARGS}

exit $?
